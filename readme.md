ZL_B00: CANopen ëª¨í„° ì œì–´ ì‹œìŠ¤í…œ

ğŸ§­ ê°œìš”

ZL_B00ì€ ROS ê¸°ë°˜ì˜ BLV Series Rí˜• ëª¨í„° ì œì–´ ì‹œìŠ¤í…œìœ¼ë¡œ, CANopen í†µì‹ ì„ í†µí•´ ì°¨ë™ êµ¬ë™ ë¡œë´‡ì˜ ìœ„ì¹˜ ë° ì†ë„ë¥¼ ì •ë°€í•˜ê²Œ ì œì–´í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.

ğŸ› ï¸ ì‹œìŠ¤í…œ êµ¬ì„±

ğŸ§© ì£¼ìš” íŒŒì¼ êµ¬ì¡°

íŒŒì¼ëª…

ì„¤ëª…

main.cpp

ROS ì´ˆê¸°í™” ë° CLI ëª…ë ¹ ë£¨í”„ ì²˜ë¦¬

ZL_B.cpp

íŠ¸ë™ì…˜ ë° ìŠ¤í‹°ì–´ë§ ëª¨ë“ˆ ì œì–´ë¥¼ í¬í•¨í•œ ìƒìœ„ ë¡œì§ ê´€ë¦¬

ZL_B_traction, ZL_B_steer

ëª¨í„°ë¥¼ ìœ„í•œ SDO/PDO ì œì–´ ëª…ë ¹ ì²˜ë¦¬

canopen.cpp

ROS í† í”½ì„ í†µí•œ CAN ë©”ì‹œì§€ ì†¡ìˆ˜ì‹  ì²˜ë¦¬

ğŸ”— ROS í† í”½

í† í”½

íƒ€ì…

ì„¤ëª…

/can0/rx

can_msgs/Frame

ìˆ˜ì‹ ëœ CAN í”„ë ˆì„

/can0/tx

can_msgs/Frame

ì†¡ì‹ í•  CAN í”„ë ˆì„ (ì˜ˆ: NMT, SDO)

/pdo/tx

ZL_B00/pdo_tx_msgs

/can0/rxì—ì„œ íŒŒì‹±ëœ DLC 4ë°”ì´íŠ¸ PDO ë©”ì‹œì§€

ğŸ’» ì‚¬ìš© ë°©ë²•

ğŸ”¡ ëª…ë ¹ì–´ ëª©ë¡

ëª…ë ¹ì–´

ê¸°ëŠ¥

zlb stop

ëª¨ë“  ëª¨í„° ì •ì§€

zlb reset

ëª¨ë“  ëª¨í„° ë¦¬ì…‹ (SDO ë¦¬ì…‹ ëª…ë ¹ ì „ì†¡)

zlb traction velmode

íŠ¸ë™ì…˜ ëª¨í„°ë¥¼ ì†ë„ ì œì–´ ëª¨ë“œë¡œ ì„¤ì •

zlb traction set rpm:100

íŠ¸ë™ì…˜ ëª¨í„° ì†ë„ ì„¤ì •

zlb traction run

ì„¤ì •ëœ ì†ë„ë¡œ íŠ¸ë™ì…˜ ëª¨í„° ì‹¤í–‰

zlb steer posmode

ìŠ¤í‹°ì–´ë§ ëª¨í„°ë¥¼ ìœ„ì¹˜ ì œì–´ ëª¨ë“œë¡œ ì„¤ì •

zlb steer set rpm:200 pos:1000

ìŠ¤í‹°ì–´ë§ ì†ë„ ë° ëª©í‘œ ìœ„ì¹˜ ì„¤ì •

zlb steer run abs

ì ˆëŒ€ ìœ„ì¹˜ë¡œ ìŠ¤í‹°ì–´ë§ ì‹¤í–‰

zlb steer run inc

ìƒëŒ€ ìœ„ì¹˜ë¡œ ìŠ¤í‹°ì–´ë§ ì‹¤í–‰

finish

í”„ë¡œê·¸ë¨ ì¢…ë£Œ

ğŸ§ª ì˜ˆì‹œ

zlb traction velmode
zlb traction set rpm:150
zlb traction run

ğŸ›‘ ì•ˆì „í•œ ì¢…ë£Œ ë°©ì‹

finish ëª…ë ¹ ì…ë ¥ ì‹œ:

ë©”ì¸ ë£¨í”„ ì¢…ë£Œ

ZL_B ê°ì²´ ì†Œë©¸ì í˜¸ì¶œ â†’ ros::shutdown() ì‹¤í–‰

ê° ëª¨ë“ˆì—ì„œ ë‹¤ìŒ í•­ëª©ë“¤ì„ ë°˜ë“œì‹œ í˜¸ì¶œ:

_spinner->stop()

subscriber.shutdown()

ros::waitForShutdown() ì€ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì•ˆì •ì ì„

ğŸ“ ì˜ì¡´ íŒ¨í‚¤ì§€

ROS Melodic

í•„ìˆ˜ ROS íŒ¨í‚¤ì§€:

can_msgs, socketcan_bridge, ros_canopen

std_msgs, message_generation

ğŸ“· ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜



ğŸ“ ë¼ì´ì„ ìŠ¤

MIT

ğŸ‘¤ ìœ ì§€ë³´ìˆ˜ì

ì¡°íƒœí¬

GitHub ë˜ëŠ” í”„ë¡œì íŠ¸ ì±„ë„ì„ í†µí•´ ë¬¸ì˜

